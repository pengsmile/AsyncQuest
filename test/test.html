<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        // var promise = Promise.resolve({
        //     query: '123',
        //     m: 'selecy'
        // });
        // function dispath (config) {
        //     // console.log(2);
        //     // console.log(config);
        //     return new Promise(function (resolve, reject) {
        //         reject(config);
        //     })
        // }

        // var chin = [dispath, undefined];

        // chin.unshift(function (config){
        //     // console.log(1);
        //     // console.log(config);
        //     return config
        // }, function(err){
        //     console.log('错误');
        // })
        // chin.push(function(config){
        //     console.log(3);
        //     console.log(config);
        // }, function (err){
        //     // console.log('错啦');
        // })
        // while (chin.length) {
        //     promise = promise.then(chin.shift(), chin.shift());
        // }

        let sleep = s => {
            let time1 = Date.now();
            while (Date.now() - time1 < s) {}
            console.log('A');
        }
        let async1 = async() => {
            await async2();
            console.log('B');
        }
        let async2 = async () =>{
            console.log('C');
            
            let reso =  Promise.resolve();
            await reso.then(()=>{
                console.log('哈哈');
            })
            console.log('D');
        }
        setTimeout(()=>{
            console.log(1)
        }, 0)

        let pro = new Promise((res, rej)=>{
            
            reject();
            console.log(2);
        });
        pro.then(()=>{
            console.log('成功了')
        },()=>{
            console.log(3);
        })
        async1();
        sleep(2000);

        class foo {
            isArray(val){
                console.log(this.isString);
                return Object.prototype.toString.call(val) == '[object Array]'
            }
            isString(val){
                return typeof val == 'String'
            }
        }
        let obj = new foo();
        console.log(obj.isArray([1, 2,3,4]));
    </script>
</body>
</html>